<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>醫生開藥</title>
  <script>
    function submitMedicationForm(event) {
      event.preventDefault();

      const form = document.getElementById('medication-form');
      const otherCheckbox = document.getElementById('other-checkbox');
      const otherInput = document.getElementById('other-input');

      if (otherInput.value.trim() !== '') {
        otherCheckbox.value = otherInput.value.trim();
      }

      const confirmation = confirm("確認提交嗎？");

      if (confirmation) {
        form.submit();
        alert("已提交成功！");

        setTimeout(() => {
          window.location.href = "confirmation.html";
        }, 1000);
      }
    }

    function handleOtherInput(event) {
      const otherCheckbox = document.getElementById('other-checkbox');
      const inputValue = event.target.value.trim();
      otherCheckbox.checked = inputValue !== '';
    }
  </script>
  <style>
 body {
  font-family: Arial, sans-serif;
  margin: 20px;
  padding: 20px;
  background-color: #f7f7f7;
  line-height: 1.6;
}

h1 {
  color: #333;
}

form {
  max-width: 600px;
  margin: auto;
  background: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  min-height: 500px; /* Sets minimum height */
}

label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
}

input, select, textarea, button {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 5px;
  box-sizing: border-box;
}

.checkbox-group {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
}

.checkbox-group label {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1 1 calc(50% - 10px);
}

.checkbox-group input[type="checkbox"] {
  margin: 0;
  width: 20px;
  height: 20px;
}

#other-input {
  flex-grow: 1;
  width: auto;
  margin-left: 10px;
  padding: 5px;
}

button {
  display: block;
  width: 100%;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

button:hover {
  background-color: #45a049;
}

  </style>
</head>
<body>
  <h1>醫生開藥</h1>
  <form id="medication-form" action="https://ap12.ragic.com/89793238/online-database/2" method="POST" onsubmit="submitMedicationForm(event)">
    <input type="hidden" name="api" value="">
    <input type="hidden" name="APIKey" value="UGQ4cGFmNjg2R0J2TXNSMXpZdVVvRTdvU1ArWHBHeEVEUjFIT2p4aFpZZEt3eUd6RnZTV0dlN0VBMFBkT0hJUw==">

    <label for="patient-name">姓名</label>
    <input type="text" id="patient-name" name="1000055" placeholder="輸入病患的姓名" required>

    <label for="medication-name">藥品名稱</label>
    <input type="text" id="medication-name" name="1000057" placeholder="輸入藥品名稱" required>

    <label>劑量與用法</label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="1000063" value="每日3次（每隔6小時 早、中、晚）"> 每日3次（每隔6小時 早、中、晚）</label>
      <label><input type="checkbox" name="1000063" value="每日4次（三餐時間 + 睡前）"> 每日4次（三餐時間 + 睡前）</label>
      <label><input type="checkbox" name="1000063" value="睡前"> 睡前</label>
      <label><input type="checkbox" name="1000063" value="服用1包（粒）"> 服用1包（粒）</label>
      <label><input type="checkbox" name="1000063" value="飯前"> 飯前</label>
      <label><input type="checkbox" name="1000063" value="飯後"> 飯後</label>
      <label><input type="checkbox" name="1000063" value="飯前/飯後 都可以"> 飯前/飯後 都可以</label>
      <label>
        <input type="checkbox" id="other-checkbox" name="1000063" value="其他"> 其他
        <input type="text" id="other-input" placeholder="請輸入其他用藥指示" style="width: 50%; margin-left: 10px;" oninput="handleOtherInput(event)">
      </label>
    </div>

    <label for="notes">備註</label>
    <textarea id="notes" name="1000067" rows="4" placeholder="輸入任何特別注意事項"></textarea>

    <button type="submit">提交紀錄</button>
  </form>
</body>
</html>
